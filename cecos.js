const generateUpdate = (accounts, dataTofixed) => {
  const newArray = accounts.map((account) => {
    let oldAccountSplit = account.split("-");
    const existAccount = dataTofixed.find(
      (element) => element.oldCeco === oldAccountSplit[2]
    );
    if (existAccount) {
      oldAccountSplit[2] = existAccount.newCeco;
      oldAccountSplit[1] = existAccount.location;
      oldAccountSplit[6] = existAccount.newDepto;
      const newAccountInfo = oldAccountSplit.join("-");

      const commandLine = `UPDATE APPS.AP_INVOICE_LINES_INTERFACE SET DIST_CODE_CONCATENATED = '${newAccountInfo}' WHERE DIST_CODE_CONCATENATED  = '${account}' AND INVOICE_ID IN (SELECT INVOICE_ID  FROM APPS.AP_INVOICES_INTERFACE WHERE INVOICE_NUM LIKE '%Nomina%') AND INVOICE_LINE_ID  IN (SELECT PARENT_ID FROM APPS.AP_INTERFACE_REJECTIONS WHERE TRUNC(CREATION_DATE) = TRUNC(SYSDATE) AND CREATED_BY = 1371);`;
      return commandLine;
    } else {
      return null;
    }
  });

  console.log(newArray.filter((a) => a));
};

const data = [
  "001-010202313603-03541-0000-601010100-601010100-30302-000-0000000-0000000",
  "001-010502113703-05165-0000-601100100-601011012-60160-000-0000000-0000000",
  "001-010202313603-03994-0000-601060100-601010600-30303-000-0000000-0000000",
  "001-010204324497-30038-0000-601010100-601010100-30202-000-0000000-0000000",
  "001-010202113797-30009-0000-601010100-601010100-30203-000-0000000-0000000",
  "001-010202313603-03541-0000-601100100-601011002-30302-000-0000000-0000000",
  "001-011204324403-05135-0000-601100100-601011006-60160-000-0000000-0000000",
  "001-010202313603-03994-0000-601010100-601010100-30303-000-0000000-0000000",
  "001-012007233603-05280-0000-601010100-601010100-60178-000-0000000-0000000",
  "001-010202113797-30009-0000-601160100-601011600-30203-000-0000000-0000000",
  "001-010502113703-05165-0000-601102500-601251000-60160-000-0000000-0000000",
  "001-012007233603-05280-0000-601160100-601011600-60178-000-0000000-0000000",
  "001-010502113703-05165-0000-601100100-601011005-60160-000-0000000-0000000",
  "001-010502113703-05165-0000-601100100-601011006-60160-000-0000000-0000000",
  "001-010204324497-30038-0000-601100100-601011005-30202-000-0000000-0000000",
  "001-010204324497-30038-0000-601100100-601011002-30202-000-0000000-0000000",
];

const old = [
  {
    newCeco: "03541",
    oldCeco: "03541",
    location: "010202313603",
    newDepto: "01002",
  },
];

generateUpdate(data, old);
